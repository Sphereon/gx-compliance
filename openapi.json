{"openapi":"3.0.0","paths":{"/api/v1/participant/verify":{"post":{"operationId":"ParticipantController_verifyParticipant","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyParticipantDto"}}}},"responses":{"200":{"description":"Participant credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Participant credential could not be verified"}},"tags":["Participant"]}},"/api/v1/participant/verify/raw":{"post":{"operationId":"ParticipantController_verifyParticipantRaw","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyParticipantRawDto"}}}},"responses":{"200":{"description":"Participant credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Participant credential could not be verified"}},"tags":["Participant"]}},"/api/v1/participant/signature/sign":{"post":{"operationId":"ParticipantController_signContent","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WrappedParticipantSelfDescriptionDto"}}}},"responses":{"200":{"description":"Succesfully signed posted content. Will return the posted JSON with an additional \"proof\" property added."},"400":{"description":"Invalid JSON request body."},"409":{"description":"Invalid Participant Self Description."}},"tags":["Participant"]}}},"info":{"title":"gx-compliance","description":"Prototype for a compliance service as defined in https://gaia-x.gitlab.io/policy-rules-committee/trust-framework/trust_anchors/","version":"1.0.2","contact":{}},"tags":[{"name":"Participant","description":""}],"servers":[],"components":{"schemas":{"VerifyParticipantDto":{"type":"object","properties":{"url":{"type":"string","description":"The HTTP location of the Participant Self Description to verify","example":"https://example.eu/path/to/selfdescription"}},"required":["url"]},"AddressDto":{"type":"object","properties":{"country":{"type":"string","description":"Country in ISO 3166-1 alpha2, alpha-3 or numeric format"},"state":{"type":"string","description":"State - a two letter state abbreviation is required for US based addresses."}},"required":["country"]},"ParticipantSelfDescriptionDto":{"type":"object","properties":{"@context":{"type":"object","description":"The context to be used for the self description. The 'gx-participant' context is required for Participant Self Descriptions","example":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"}},"@type":{"type":"string","description":"The type of the self description. 'gx-participant:LegalPerson' is required for Participant Self Descriptions.","example":"gx-participant:LegalPerson"},"@id":{"type":"string","description":"The identifier of the self description."},"registrationNumber":{"type":"string","description":"Country's registration number which identifies one specific company."},"headquarterAddress":{"description":"Physical location of the companys head quarter.","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"legalAddress":{"description":"Physical location of the companys legal registration.","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"leiCode":{"type":"string","description":"Unique LEI number as defined by https://www.gleif.org."},"parentOrganisation":{"description":"A (list of) direct participant(s) that this entity is a subOrganization of, if any.","example":[{"@context":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"},"@id":"http://example.org/participant-dp6gtq7i75lmk9p4j2tfg","@type":"gx-participant:LegalPerson","gx-participant:registrationNumber":{"@type":"xsd:string","@value":"DEANY1234NUMBER"},"gx-participant:legalAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}},"gx-participant:headquarterAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}}}],"type":"array","items":{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}},"subOrganisation":{"description":"A (list of) direct participant(s) with a legal mandate on this entity, e.g., as a subsidiary.","example":{"@context":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"},"@id":"http://example.org/participant-dp6gtq7i75lmk9p4j2tfg","@type":"gx-participant:LegalPerson","gx-participant:registrationNumber":{"@type":"xsd:string","@value":"DEANY1234NUMBER"},"gx-participant:legalAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}},"gx-participant:headquarterAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}}},"type":"array","items":{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}}},"required":["@context","@type","@id","registrationNumber","headquarterAddress","legalAddress"]},"SignatureDto":{"type":"object","properties":{"type":{"type":"string","description":"Type of the proof"},"created":{"format":"date-time","type":"string","description":"Creation date of the proof"},"proofPurpose":{"type":"string","description":"The proofPurpose property is used to associate a purpose, such as assertionMethod or authentication with a proof"},"jws":{"type":"string","description":"JSON Web Signature for a given self description"},"verifcationMethod":{"type":"string","description":"Public key as PEM-encoded SPKI string"}},"required":["type","created","proofPurpose","jws","verifcationMethod"]},"VerifyParticipantRawDto":{"type":"object","properties":{"selfDescription":{"description":"The raw Participant Self Description to validate conforming to the [shacl shape located in the Gaia-X Registry](https://registry.lab.gaia-x.eu/shapes/v1/participant.ttl). Find the full definition of a Gaia-X legal person in the [trust framework](https://gaia-x.gitlab.io/policy-rules-committee/trust-framework/participant/#legal-person).","allOf":[{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}]},"proof":{"description":"JWS signature of the Self Description","allOf":[{"$ref":"#/components/schemas/SignatureDto"}]}},"required":["selfDescription","proof"]},"WrappedParticipantSelfDescriptionDto":{"type":"object","properties":{"selfDescription":{"description":"The self description to be processed.","allOf":[{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}]}},"required":["selfDescription"]}}}}