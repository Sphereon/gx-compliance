{"openapi":"3.0.0","paths":{"/api/v1/sign":{"post":{"operationId":"CommonController_signContent","summary":"Canonize, hash and sign a valid Self Description","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SelfDescriptionCredentialDto"}}}},"responses":{"200":{"description":"Succesfully signed posted content. Will return the posted JSON with an additional \"proof\" property added."},"400":{"description":"Invalid JSON request body."},"409":{"description":"Invalid Participant Self Description."}},"tags":["Common"]}},"/api/v1/normalize":{"post":{"operationId":"CommonController_noramlizeParticipantRaw","summary":"Normalize (canonize) a Self Description using URDNA2015","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WrappedParticipantSelfDescriptionDto"}}}},"responses":{"200":{"description":"Normalized Self Description."},"400":{"description":"Bad request."}},"tags":["Common"]}},"/api/v1/participant/verify":{"post":{"operationId":"ParticipantController_verifyParticipant","summary":"Validate a Participant Self Description from a URL","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyParticipantDto"}}}},"responses":{"200":{"description":"Participant credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Participant credential could not be verified"}},"tags":["Participant"]}},"/api/v1/participant/verify/raw":{"post":{"operationId":"ParticipantController_verifyParticipantRaw","summary":"Validate a Participant Self Description","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifiableSelfDescriptionDto"}}}},"responses":{"200":{"description":"Participant credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Participant credential could not be verified"}},"tags":["Participant"]}},"/api/v1/service-offering/verify":{"post":{"operationId":"ServiceOfferingController_verifyParticipant","summary":"Validate a Service Offering Self Description from a URL","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyServiceOfferingDto"}}}},"responses":{"200":{"description":"Service Offering credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Service Offering credential could not be verified"}},"tags":["Service Offering"]}},"/api/v1/service-offering/verify/raw":{"post":{"operationId":"ServiceOfferingController_verifyParticipantRaw","summary":"Validate a Service Offering Self Description","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifiableSelfDescriptionDto"}}}},"responses":{"200":{"description":"Service Offering credential successfully verified"},"400":{"description":"Invalid request payload"},"409":{"description":"Service Offering credential could not be verified"}},"tags":["Service Offering"]}}},"info":{"title":"gx-compliance","description":"Prototype for a compliance service as defined in https://gaia-x.gitlab.io/policy-rules-committee/trust-framework/trust_anchors/","version":"1.0.3","contact":{}},"tags":[{"name":"Participant","description":""}],"servers":[],"components":{"schemas":{"SignatureDto":{"type":"object","properties":{"type":{"type":"string","description":"Type of the proof"},"created":{"format":"date-time","type":"string","description":"Creation date of the proof"},"proofPurpose":{"type":"string","description":"The proofPurpose property is used to associate a purpose, such as assertionMethod or authentication with a proof"},"jws":{"type":"string","description":"JSON Web Signature for a given self description"},"verificationMethod":{"type":"string","description":"Public key as PEM-encoded SPKI string"}},"required":["type","created","proofPurpose","jws","verificationMethod"]},"SelfDescriptionCredentialDto":{"type":"object","properties":{"selfDescription":{"type":"object","description":"A Self Description that was used for the proof."},"proof":{"description":"Participant generated proof of the Self Description.","allOf":[{"$ref":"#/components/schemas/SignatureDto"}]}},"required":["selfDescription","proof"]},"AddressDto":{"type":"object","properties":{"country":{"type":"string","description":"Country in ISO 3166-1 alpha2, alpha-3 or numeric format"},"state":{"type":"string","description":"State - a two letter state abbreviation is required for US based addresses."}},"required":["country"]},"ParticipantSelfDescriptionDto":{"type":"object","properties":{"@context":{"type":"object","description":"The context to be used for the self description. The 'gx-participant' context is required for Participant Self Descriptions","example":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"}},"@type":{"type":"string","description":"The type of the self description. 'gx-participant:LegalPerson' is required for Participant Self Descriptions.","example":"gx-participant:LegalPerson"},"@id":{"type":"string","description":"The identifier of the self description."},"registrationNumber":{"type":"string","description":"Country's registration number which identifies one specific company."},"headquarterAddress":{"description":"Physical location of the companys head quarter.","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"legalAddress":{"description":"Physical location of the companys legal registration.","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"leiCode":{"type":"string","description":"Unique LEI number as defined by https://www.gleif.org."},"parentOrganisation":{"description":"A (list of) direct participant(s) that this entity is a subOrganization of, if any.","example":[{"@context":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"},"@id":"http://example.org/participant-dp6gtq7i75lmk9p4j2tfg","@type":"gx-participant:LegalPerson","gx-participant:registrationNumber":{"@type":"xsd:string","@value":"DEANY1234NUMBER123"},"gx-participant:headquarterAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}},"gx-participant:legalAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}}}],"type":"array","items":{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}},"subOrganisation":{"description":"A (list of) direct participant(s) with a legal mandate on this entity, e.g., as a subsidiary.","example":{"@context":{"sh":"http://www.w3.org/ns/shacl#","xsd":"http://www.w3.org/2001/XMLSchema#","gx-participant":"http://w3id.org/gaia-x/participant#"},"@id":"http://example.org/participant-dp6gtq7i75lmk9p4j2tfg","@type":"gx-participant:LegalPerson","gx-participant:registrationNumber":{"@type":"xsd:string","@value":"DEANY1234NUMBER123"},"gx-participant:headquarterAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}},"gx-participant:legalAddress":{"@type":"gx-participant:Address","gx-participant:country":{"@type":"xsd:string","@value":"DEU"}}},"type":"array","items":{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}}},"required":["@context","@type","@id","registrationNumber","headquarterAddress","legalAddress"]},"WrappedParticipantSelfDescriptionDto":{"type":"object","properties":{"selfDescription":{"description":"A wrapped Self Description.","allOf":[{"$ref":"#/components/schemas/ParticipantSelfDescriptionDto"}]}},"required":["selfDescription"]},"VerifyParticipantDto":{"type":"object","properties":{"url":{"type":"string","description":"The HTTP location of the Participant Self Description to verify","example":"https://example.eu/path/to/selfdescription"}},"required":["url"]},"ComplianceCredentialDto":{"type":"object","properties":{"credentialSubject":{"type":"object","description":"Credential Subject of the Self Description."},"proof":{"type":"object","description":"Gaia-X Compliance Proof for that Self Description."}},"required":["credentialSubject","proof"]},"VerifiableSelfDescriptionDto":{"type":"object","properties":{"selfDescriptionCredential":{"description":"Self Description created and signed by participant.","allOf":[{"$ref":"#/components/schemas/SelfDescriptionCredentialDto"}]},"complianceCredential":{"description":"Proof issued by the compliance service.","allOf":[{"$ref":"#/components/schemas/ComplianceCredentialDto"}]}},"required":["selfDescriptionCredential","complianceCredential"]},"VerifyServiceOfferingDto":{"type":"object","properties":{"url":{"type":"string","description":"The HTTP location of the Service Offering Self Description to verify","example":"https://example.eu/path/to/selfdescription"}},"required":["url"]}}}}